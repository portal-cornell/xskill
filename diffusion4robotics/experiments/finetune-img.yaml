# Copyright (c) Sudeep Dasari, 2023

# This source code is licensed under the MIT license found in the
# LICENSE file in the root directory of this source tree.


defaults:
  - agent: default
  - task: end_effector
  - trainer: bc
  - override hydra/launcher: slurm
  - _self_


hydra:
  run:
    dir: bc_finetune/${exp_name}/${hydra:runtime.choices.task}_${hydra:runtime.choices.agent/features}_${now:%Y-%m-%d_%H-%M-%S}
  sweep:
    dir: ${base:}/../bc_finetune/${exp_name}/${now:%Y-%m-%d_%H-%M-%S}
    subdir: run${hydra:job.num}_${hydra:runtime.choices.task}_${hydra:runtime.choices.agent/features}
  job:
    chdir: true

rt: ${hydra:runtime.choices.agent/features}

exp_name: test
checkpoint_path: ${exp_name}.ckpt
checkpoint_path_best: ${exp_name}_best.ckpt
batch_size: 100
# num_workers: 10
num_workers: 20
num_epochs: 600 # DP repo has 600
lr: 0.0001
max_iterations: 50000
eval_freq: 5000 #10000
save_freq: 5000 #10000
schedule_freq: 1
devices: 1
device: 'cuda:0'
seed: 292285

buffer_path: ./buffer.pkl
ac_chunk: 1
img_chunk: 1  # number of image timesteps to use (including current one)
train_transform: medium

debug: False
print_config: False
use_wandb: True

wandb:
  name: null
  project: irl_squared
  group: ${exp_name}
  sweep_name_prefix: eval
  debug: False
